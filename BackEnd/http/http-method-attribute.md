# HTTP 메서드의 속성

- 안전 Safe Methods
- 멱등 Idempotent Methods
- 캐시가능 Cacheable Methods

## 안전

Safe

- **호출해도 리소스를 변경하지 않는다**
- 안전은 해당 리소스만 고려한다.

> ex. 무언가 바꾸는거 같은 POST, PACTH 같은건 안전하지 않다.

## 멱등

Idempotent

- f(f(x)) = f(x)
- **한번 호출하든 두번 호출하든 최종 결과는 똑같다**
- 멱등 메서드

  - GET : 몇번을 호출하든 결과가 조회된다.
  - PUT : 결과를 대체한다. 같은 요청을 여러번 보내도 최종 결과는 같다.
  - DELETE : 결과를 삭제한다. 몇번을 호출해도 삭제된 결과는 똑같다.
  - _POST : 멱등이 아니다!! 여러번 호출하면 같은 결재가 중복해서 발생할 수 있다_

* 활용
* 자동 복구 메커니즘
* 서버가 TIMEOUT 등으로 정상 응답을 못 주었을 때, 클라이언트가 같은 요청을 다시 보내도 되는가 를 판단할 수 있다.
* 멱등 메서드라면 재 호출해도 결과는 똑같으니 다시 요청해도 문제가 없겠죠?

- 만약에 GET 요청 중간에 읽어오는 리소스가 PUT 메서드로 인해 변경이 일어난다면 재 호출 하였을 때 변경된 리소스를 조회할텐데 이것도 멱등인가?
  - 멱등은 외부 요인으로 중간에 리소스가 변경되는 것 까지는 고려하지 않는다.

## 캐시가능

Cacheable

- **응답 결과 리소스를 캐시해서 사용해도 되는가?**
- GET, HEAD, POST, PATCH 캐시가능
- 실제로는 GET, HEAD 정도만 캐시로 사용한다.
  - POST, PATCH는 본문 내용까지 캐시 키로 고려 해야하는데 구현이 쉽지 않다!
