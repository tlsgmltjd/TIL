# HTTP 메서드 GET POST

## HTTP 메서드 종류

- GET 리소스 조회
- POST 요청 데이터 처리, 등록에 사용
- PUT 리소스를 대체, 해당 리소스가 없으면 생성
- PATCH 리소스 부분 변경
- DELETE 리소스 삭제

### 기타 메서드

- HEAD GET과 동일하지만 메시지 부분을 제외하고 상태 줄과 헤더만 반환 (바디 빼고 헤더만 줘)
- OPTIONS 대상 리소스에 대한 통신 가능 옵션(메서드)을 설명해준다 (주로 CORS에서 사용)
- CONNECT 대상 리소스로 식별되는 서버에 대한 터널을 설정
- TRACE 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행

## GET

- 리소스 조회

```
GET /book/1 HTTP/1.1
Host: www.library.com
```

- 서버에 전달하고 싶은 데이터를 쿼리 파라미터를 통해 전달한다.
- 메시지 바디를 사용해서 데이터를 전달할 수 있지만 지원하지 않는 곳이 많아서 권장하지 않는다.

### flow

```
GET /book/1 HTTP/1.1
Host: www.library.com
```

클라이언트가 서버에 메시지를 전달한다.

->

서버에 도착하면 메시지를 해석 후 그에 맞는 응답 데이터를 생성하여 클라이언트에 응답해준다.

```
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 00
{
    id: 1,
    name: "오브젝트",
    price: 20000
}
```

## POST

- 요청 데이터를 처리한다.
- 메시지 바디를 통해 서버로 요청 데이터를 전달한다. (데이터 처리해줘)
- 서버는 요청 데이터를 처리한다.
  - 메시지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다.
- 주로 전달된 데이터를 신규 리소스 등록, 프로세스 처리에 사용한다.

### flow

```
POST /book HTTP/1.1
Content-Type: application/json

{
    name: "오브젝트2",
    price: 20000
}
```

클라이언트가 서버에 메시지를 전달한다.

->

서버가 도착하면 메시지를 해석하여 받은 데이터를 `/book` POST 로 온 요청에 수행하기록 약속된 대로 데이터를 처리한 후 클라이언트에 응답 데이터를 생성하여 응답해준다.

```
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 00
Location: /book/2
{
    id: 2,
    name: "오브젝트2",
    price: 20000
}
```

### 요청 데이터를 어떻게 처리하라는 뜻일까?

- POST는 대상 리소스가 리소스의 고유한 의미 안에서 체계에 따라 요청에 포함된 표현을 처리하도록 요청하는 것이다.
- ex
  - HTML 폼에 입력된 필드와 같은 데이터르 블록을 데이터 처리 프로세스에 제공한다.
  - 게시판, 블로그 같은 서비스에 글을 게시한다.
  - 서버가 아직 식별하지 않은 새 리소스를 생성한다.
  - 기존 자원에 데이터를 추가한다.

---

1. 새 리소스 생성

- 서버가 아직 식별하지 않은 새 리소스를 생성

2. 요청 데이터를 처리

- 단순히 데이터를 생성하거나, 변경하는 것을 넘어 프로세스를 처리할 때도 사용한다.
- ex. 주문 -> 결재완료 -> 배달시작 -> 배달완료 처럼 단순히 값 변경을 넘어서 프로세스의 상태가 변경되는 경우에도 사용한다.
- POST의 결과로 새 리소스가 생성되지 않을 수 있다.
- ex. POST `/orders/{orderId}/start-delivery` 배달시작 프로세스 진행에 사용 **(컨트롤 URI)** 이렇게 URI에 어쩔 수 없이 동사가 들어갈 수 있다.

3. 다른 메서드로 처리하기 애매한 경우

- ex. JSON으로 조회 데이터를 넘겨야할때 (데이터를 넘겨서 데이터를 조회받고 싶음), GET 메서드를 사용하기 어려운 경우
- 애매하면 POST
